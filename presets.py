# presets.py
from collections import OrderedDict

PRESETS = OrderedDict([
    ("SD1.5", [
        ("512×512 (1:1) – Native",           (512, 512)),
        ("768×512 (3:2) – Landscape",        (768, 512)),
        ("512×768 (2:3) – Portrait",         (512, 768)),
        ("768×576 (4:3) – Standard",         (768, 576)),
        ("576×768 (3:4) – Standard Portrait",(576, 768)),
    ]),
    ("SDXL", [
        ("1024×1024 (1:1) – Native",         (1024, 1024)),
        ("1152×896 (9:7) – Landscape",       (1152, 896)),
        ("896×1152 (7:9) – Portrait",        (896, 1152)),
        ("1344×768 (7:4) – Wide",            (1344, 768)),
        ("768×1344 (4:7) – Tall",            (768, 1344)),
        ("1216×832 (19:13) – Cinema",        (1216, 832)),
        ("832×1216 (13:19) – Tall Cinema",   (832, 1216)),
        ("1280×768 (5:3) – Ultrawide",       (1280, 768)),
        ("768×1280 (3:5) – Ultra Portrait",  (768, 1280)),
        ("1536×640 (12:5) – Banner",         (1536, 640)),
        ("640×1536 (5:12) – Skyscraper",     (640, 1536)),
        ("1600×640 (5:2) – Extreme Wide",    (1600, 640)),
        ("640×1600 (2:5) – Extreme Tall",    (640, 1600)),
    ]),
    ("FLUX", [
        ("1024×1024 (1:1) – Native",         (1024, 1024)),
        ("1920×1080 (16:9) – Full HD",       (1920, 1080)),
        ("1080×1920 (9:16) – Vertical HD",   (1080, 1920)),
        ("1536×640 (12:5) – Ultrawide",      (1536, 640)),
        ("640×1536 (5:12) – Ultra Portrait", (640, 1536)),
        ("1600×1600 (1:1) – High Detail",    (1600, 1600)),
        ("1280×720 (16:9) – HD",             (1280, 720)),
        ("720×1280 (9:16) – Vertical HD",    (720, 1280)),
        ("1366×768 (16:9) – Laptop",         (1366, 768)),
        ("768×1366 (9:16) – Vertical Laptop",(768, 1366)),
        ("2560×1440 (16:9) – 2K",            (2560, 1440)),
    ]),
    ("WAN", [
        ("832×480 (16:9) – 480p Standard",   (832, 480)),
        ("480×832 (9:16) – 480p Vertical",   (480, 832)),
        ("896×512 (7:4) – 512p Standard",   (896, 512)),
        ("512×896 (4:7) – 512p Vertical",   (512, 896)),
        ("1280×720 (16:9) – 720p HD",        (1280, 720)),
        ("720×1280 (9:16) – 720p Vertical",  (720, 1280)),
        ("640×480 (4:3) – Classic 480p",     (640, 480)),
        ("960×720 (4:3) – Classic 720p",     (960, 720)),
        ("480×640 (3:4) – Classic Vertical", (480, 640)),
        ("720×960 (3:4) – Classic Vertical", (720, 960)),
        ("720×720 (1:1) – Square 720p",      (720, 720)),
        ("480×480 (1:1) – Square 480p",      (480, 480)),
        ("1024×576 (16:9) – Intermediate",   (1024, 576)),
        ("576×1024 (9:16) – Intermediate Vertical",(576, 1024)),
    ]),
    ("QWEN", [
        ("1328×1328 (1:1)",                   (1328, 1328)),
        ("928×1664 (9:16)",                   (928, 1664)),
        ("1664×928 (16:9)",                   (1664, 928)),
        ("1104×1472 (3:4)",                   (1104, 1472)),
        ("1472×1104 (4:3)",                   (1472, 1104)),
        ("1056×1584 (2:3)",                   (1056, 1584)),
        ("1584×1056 (3:2)",                   (1584, 1056)),
    ])
])

CROP_METHODS = ["中心裁剪", "直接缩放"]
RESIZE_ALGOS = ["lanczos", "bilinear", "nearest"]

def get_size_from_preset(choices: dict):
    for k, v in choices.items():
        if v != "关":
            for name, wh in PRESETS[k]:
                if name == v:
                    return wh
    return (512, 512)